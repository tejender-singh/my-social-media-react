{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jagmeet Kaur\\\\Documents\\\\Study\\\\MySocialMedia\\\\my-social-media\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport LoginForm from './containers/Login/LoginForm';\nimport Layout from './Layout';\nconst welcomeText = \"Welcome, Please Sign in\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      stateObj: {\n        username: \"\",\n        password: \"\",\n        loggedIn: null,\n        pageLoaded: false,\n        text: welcomeText,\n        loginDisabled: true,\n        errorMessage: null\n      }\n    };\n\n    this.handleServerResponse = (response, textVal) => {\n      var loggedInVal = false;\n\n      if (response.data.loggedIn === true) {\n        loggedInVal = true;\n        textVal = \"Welcome, Tejender!\";\n      }\n\n      this.setState({\n        stateObj: { ...this.state.stateObj,\n          loggedIn: loggedInVal,\n          text: textVal,\n          pageLoaded: true\n        }\n      });\n      console.log(response.data);\n    };\n\n    this.loginHandler = () => {\n      this.setState({\n        stateObj: { ...this.state.stateObj,\n          text: \"loading\"\n        }\n      });\n      var parameters = {\n        username: this.state.stateObj.username,\n        password: this.state.stateObj.password\n      };\n      axios.post('http://localhost:8080/MySocialMedia/Login', null, {\n        params: parameters\n      }).then(response => {\n        this.handleServerResponse(response, \"Username and Password Don't match\");\n      });\n    };\n\n    this.logoutHandler = () => {\n      this.setState({\n        stateObj: { ...this.state.stateObj,\n          username: \"\",\n          password: \"\",\n          pageLoaded: false\n        }\n      });\n      axios.get('http://localhost:8080/MySocialMedia/Logout').then(response => {\n        this.handleServerResponse(response, welcomeText);\n      });\n    };\n\n    this.onKeyDownHandler = key => {\n      if (key.keyCode === 13) this.loginHandler();\n    };\n\n    this.usernameChangeHandler = event => {\n      console.log(event.target.value);\n      this.setState({\n        stateObj: { ...this.state.stateObj,\n          username: event.target.value\n        }\n      });\n      this.checkAndEnableLogin();\n    };\n\n    this.passwordChangeHandler = event => {\n      console.log(event.target.value);\n      this.setState({\n        stateObj: { ...this.state.stateObj,\n          password: event.target.value\n        }\n      });\n      this.checkAndEnableLogin();\n    };\n\n    this.checkAndEnableLogin = () => {\n      console.log('checking');\n      console.log(this.state);\n      console.log(this.state.stateObj.username.length);\n      console.log(this.state.stateObj.password.length);\n      let loginDisabledVal = false;\n\n      if (this.state.stateObj.username.length > 3 && this.state.stateObj.password.length > 3) {\n        loginDisabledVal = false;\n      } else {\n        loginDisabledVal = true;\n      } // this.setState({\n      //   stateObj:{\n      //     ...this.state.stateObj,\n      //     loginDisabled:loginDisabledVal\n      //   }\n      // }\n      // );\n\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:8080/MySocialMedia/Login').then(response => {\n      this.handleServerResponse(response, welcomeText);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }\n    }, this.state.stateObj.pageLoaded ? this.state.stateObj.loggedIn ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Layout, {\n      logoutHandler: this.logoutHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(LoginForm, {\n      onKeyDownHandler: this.onKeyDownHandler,\n      username: this.state.stateObj.username,\n      password: this.state.stateObj.password,\n      logoutHandler: this.logoutHandler,\n      loginHandler: this.loginHandler,\n      passwordChangeHandler: this.passwordChangeHandler,\n      usernameChangeHandler: this.usernameChangeHandler,\n      loginDisabled: this.state.stateObj.loginDisabled,\n      errorMessage: this.state.stateObj.errorMessage,\n      text: this.state.stateObj.text,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"image\", {\n      height: \"50px\",\n      width: \"50px\",\n      src: \"../public/logo512.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Jagmeet Kaur/Documents/Study/MySocialMedia/my-social-media/src/App.js"],"names":["React","Component","axios","LoginForm","Layout","welcomeText","App","state","stateObj","username","password","loggedIn","pageLoaded","text","loginDisabled","errorMessage","handleServerResponse","response","textVal","loggedInVal","data","setState","console","log","loginHandler","parameters","post","params","then","logoutHandler","get","onKeyDownHandler","key","keyCode","usernameChangeHandler","event","target","value","checkAndEnableLogin","passwordChangeHandler","length","loginDisabledVal","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport LoginForm from './containers/Login/LoginForm'\nimport Layout from './Layout';\n\nconst welcomeText = \"Welcome, Please Sign in\"\nclass App extends Component {\n\n  \n  state = {\n    stateObj:{\n      username:\"\",\n      password:\"\",\n      loggedIn:null,\n      pageLoaded:false,\n      text: welcomeText,\n      loginDisabled:true,\n      errorMessage:null\n    },\n  }\n\n  componentDidMount(){\n    axios.get('http://localhost:8080/MySocialMedia/Login')\n      .then((response) => {\n        this.handleServerResponse(response, welcomeText);\n      })\n  }\n\n  handleServerResponse = (response, textVal) =>{\n    var loggedInVal=false;\n    \n    if(response.data.loggedIn === true){\n      loggedInVal=true;\n      textVal = \"Welcome, Tejender!\"\n    }\n    this.setState({\n      stateObj:{\n        ...this.state.stateObj,\n        loggedIn:loggedInVal,\n        text:textVal,\n        pageLoaded:true\n      }\n    })\n\n    console.log(response.data);\n\n  }\n\n  loginHandler = () => {\n    this.setState({\n      stateObj:{\n        ...this.state.stateObj,\n        text:\"loading\"\n      }\n    });\n    var parameters= {\n      username:this.state.stateObj.username,\n      password:this.state.stateObj.password\n    }    \n      axios.post('http://localhost:8080/MySocialMedia/Login',null,{ params:parameters})\n      .then((response) => {\n        this.handleServerResponse(response,\"Username and Password Don't match\");\n      })\n    \n  }\n\n  logoutHandler = () => {\n    this.setState({\n      stateObj:{\n        ...this.state.stateObj,\n        username:\"\",\n        password:\"\",\n        pageLoaded:false,\n      }\n    });\n\n      axios.get('http://localhost:8080/MySocialMedia/Logout')\n      .then((response) => {\n        this.handleServerResponse(response,welcomeText);\n      })\n    \n  }\n\n  onKeyDownHandler = (key) => {\n    if(key.keyCode===13)\n      this.loginHandler();\n  }\n\n  usernameChangeHandler = (event) => {\n  console.log(event.target.value);\n  this.setState({\n    stateObj:{\n      ...this.state.stateObj,\n      username:event.target.value\n    }\n  });    \n  this.checkAndEnableLogin();\n}\n\n  passwordChangeHandler = (event) => {\n    console.log(event.target.value);\n    this.setState({\n      stateObj:{\n        ...this.state.stateObj,\n        password:event.target.value\n      }\n    });\n    this.checkAndEnableLogin();\n  }\n\n  checkAndEnableLogin = () =>{\n    console.log('checking')\n    console.log(this.state);\n    console.log(this.state.stateObj.username.length);\n    console.log(this.state.stateObj.password.length);\n   let loginDisabledVal=false;\n    if(this.state.stateObj.username.length > 3 && this.state.stateObj.password.length>3){\n      loginDisabledVal=false;\n    }\n    else{\n      loginDisabledVal=true;\n    }\n    // this.setState({\n    //   stateObj:{\n    //     ...this.state.stateObj,\n    //     loginDisabled:loginDisabledVal\n    //   }\n    // }\n    // );\n\n  }\n\n  render(){\n    return (\n        \n          <div>\n            {this.state.stateObj.pageLoaded?\n            this.state.stateObj.loggedIn?\n              <div>\n                <Layout\n                  logoutHandler = {this.logoutHandler}\n                />\n              </div>\n              :\n              <div>\n                <LoginForm\n                  onKeyDownHandler={this.onKeyDownHandler}\n                  username={this.state.stateObj.username}\n                  password={this.state.stateObj.password}\n                  logoutHandler={this.logoutHandler}\n                  loginHandler={this.loginHandler}\n                  passwordChangeHandler={this.passwordChangeHandler}\n                  usernameChangeHandler={this.usernameChangeHandler}\n                  loginDisabled={this.state.stateObj.loginDisabled}\n                  errorMessage={this.state.stateObj.errorMessage}\n                  text={this.state.stateObj.text}\n                />\n              </div>\n              \n                :\n              <div>\n                <image height=\"50px\" width=\"50px\" src=\"../public/logo512.png\"></image>\n              </div>\n            }\n          </div>\n    );  \n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}